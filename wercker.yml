box: wercker/python

# Build definition
build:
  # The steps that will be executed on build
  steps:
    # A step that executes `pip install` command
    - pip-install:
        requirements_file: requirements.txt
        packages_list: pytest flake8

    # A custom script step, name value is used in the UI
    # and the code value contains the command that get executed
    - script:
        name: run tests
        code: py.test

    - script:
        name: check style
        code: python setup.py flake8

    - script:
        name: check docs
        code: |
          cd docs/
          sphinx-build -b linkcheck ./ _build/
          sphinx-build -b html ./ _build/
